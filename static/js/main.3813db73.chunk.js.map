{"version":3,"sources":["tools/wrapTextDev.js","components/header.jsx","tools/checker.js","tools/language.js","controllers/calculator.js","components/navigation.jsx","components/car.jsx","components/calculator.jsx","app.jsx","reportWebVitals.js","index.js"],"names":["wrapTextDev","text","title","Header","props","authorName","authorUrl","language","className","href","OPT","Object","freeze","LANG","THEME","lang","includes","localStorage","getItem","checker","setItem","actions","CalculatorContext","React","createContext","calculatorReducer","state","action","type","speed","distance","CalculatorProvider","children","useReducer","value","dispatch","Provider","useCalculator","context","useContext","undefined","Error","Navigation","to","SpeedSelector","for","id","min","max","onChange","event","preventDefault","target","handleSpeed","TimeEstimate","estimate","Math","round","Number","EPSILON","ConsumptionEstimate","baseConsumption","consumption","s","Fragment","Car","carId","name","DistanceSelector","handleDistance","Calculator","App","useState","setLang","useEffect","selection","packageinfo","author","url","exact","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3813db73.chunk.js","sourcesContent":["\nconst wrapTextDev = (text) => {\n  const env = process.env.NODE_ENV;\n  return env === 'production' ? text : `[${text}]`;\n};\n\nexport default wrapTextDev;","import React from 'react';\n\nimport wrapTextDev from '../tools/wrapTextDev';\n\nconst title = ['Solidabis code challenge 2021', 'Solidabiksen koodihaaste 2021'];\n\nconst Header = (props) => {\n  const {authorName, authorUrl, language} = props;\n  return <section className='header'>\n    <p>{language === 'en' ? title[0] : title[1]}</p>\n    <a href={authorUrl}>{wrapTextDev(authorName)}</a>\n  </section>;\n};\n\nexport default Header;","/* eslint-disable import/no-anonymous-default-export */\n\n/*\n  Author:       RedFoxFinn - Antti Aarnio\n  Project:      Solidabis koodihaaste 2021\n  File:         ./src/tools/checker.js\n  Description:  Tool that does various checks for other tools or components\n*/\n\nconst OPT = Object.freeze({\n  LANG: ['en','fi'],\n  THEME: ['dark', 'light']\n});\n\nconst langIsValid = (lang) => {\n  return OPT.LANG.includes(lang);\n};\n\nconst themeIsValid = (theme) => {\n  return OPT.THEME.includes(theme);\n};\n\nexport default {\n  langIsValid, themeIsValid\n};","/* eslint-disable import/no-anonymous-default-export */\n\n/*\n  Author:       RedFoxFinn - Antti Aarnio\n  Project:      Solidabis koodihaaste 2021\n  File:         ./src/tools/language.js\n  Description:  Tool that sets or gets language by using localStorage. Checks language validity with checker tools\n*/\n\nimport checker from './checker';\n\nconst languages = () => {\n  return ['en', 'fi'];\n};\n\nconst checkLang = () => {\n  const lang = localStorage.getItem('rff.solidabisCC.lang');\n  if (lang && checker.langIsValid(lang)) {\n    return lang;\n  } else {\n    localStorage.setItem('rff.solidabisCC.lang', 'fi');\n    return localStorage.getItem('rff.solidabisCC.lang');\n  }\n};\n\nconst setLang = (lang) => {\n  if (checker.langIsValid(lang)) {\n    localStorage.setItem('rff.solidabisCC.lang',lang);\n    return lang;\n  } else {\n    let setLang = localStorage.getItem('rff.solidabisCC.lang');\n    if (!setLang || !checker.langIsValid(setLang)) {\n      localStorage.setItem('rff.solidabisCC.lang', 'fi');\n      setLang = localStorage.getItem('rff.solidabisCC.lang');\n    }\n    return setLang;\n  }\n}\n\nexport default {checkLang, setLang, languages};","import React, {useContext, useReducer} from 'react';\n\nconst actions = [\n  'SET_SPEED',\n  'SET_DISTANCE',\n  'RESET_SPEED',\n  'RESET_DISTANCE',\n  'RESET_ALL'\n];\n\nconst createInitialState = () => {\n  return {\n    distance: 1,\n    speed: 1\n  };\n};\n\nconst CalculatorContext = React.createContext();\n\nconst calculatorReducer = (state, action) => {\n  switch (action.type) {\n    case actions[0]: return {...state, speed: action.speed};\n    case actions[1]: return {...state, distance: action.distance};\n    case actions[2]: return {...state, speed: 0};\n    case actions[3]: return {...state, distance: 0};\n    case actions[4]: return createInitialState();\n    default: return state;\n  }\n};\n\nconst CalculatorProvider = ({children}) => {\n  const [state, dispatch] = useReducer(calculatorReducer, createInitialState());\n  const value = {state, dispatch};\n  return <CalculatorContext.Provider value={value} >{children}</CalculatorContext.Provider>\n};\n\nconst useCalculator = () => {\n  const context = useContext(CalculatorContext);\n  if (context === undefined) {\n    throw new Error('useCalculator must be used within a CalculatorProvider');\n  } return context;\n};\n\nexport {CalculatorProvider, useCalculator, actions}","import React from 'react';\nimport {Link} from 'react-router-dom';\n\nimport '../styles/components.css';\n\nconst Navigation = (props) => {\n  const {language} = props;\n  return <nav className='navigation'>\n    <Link to='/'>{language === 'en' ? 'home' : 'etusivu'}</Link>\n    <Link to='/task'>{language === 'en' ? 'task' : 'tehtävä'}</Link>\n  </nav>;\n};\n\nexport default Navigation;","import React from 'react';\n\nimport {useCalculator, actions} from '../controllers/calculator';\nimport language from '../tools/language';\n\nconst consumption_gradient = 1.009;\n\nconst SpeedSelector = () => {\n  const {dispatch, state} = useCalculator();\n  const handleSpeed = (event) => {\n    event.preventDefault();\n    dispatch({type: actions[0], speed: event.target.value});\n  };\n  return <form>\n    <label for='speedSelector' >Auton nopeus</label>\n    <input id='speedSelector' type='number' min={0} max={320} value={state.speed} onChange={event => handleSpeed(event)} />\n  </form>;\n};\n\nconst TimeEstimate = () => {\n  const {state} = useCalculator();\n  const estimate = state.distance/state.speed;\n  if (state.distance > 0 && state.speed > 0) {\n    return <p>Matka-aika: ~ {estimate >= 1\n      ? Math.round((estimate+Number.EPSILON)*10)/10\n      : Math.round(((estimate*60)+Number.EPSILON)*10)/10} {estimate >= 1\n        ? 'h'\n        : 'min'}</p>;\n  } else {\n    return <p>{language.checkLang() === 'en'\n      ? 'Set speed and distance for travel time calculations.'\n      : 'Aseta nopeus ja matkan pituus matka-ajan laskemiseksi.'}</p>;\n  }\n};\n\nconst ConsumptionEstimate = ({baseConsumption}) => {\n  const {state} = useCalculator();\n  let consumption = baseConsumption;\n  if (state.speed > 1) {\n    for (let s = 0; s < state.speed -1; s++) {\n      consumption *= consumption_gradient;\n    }\n  }\n  if (state.distance > 0 && state.speed > 0) {\n    return <React.Fragment>\n      <p id='averageConsumption'>Keskikulutus: {state.speed > 1 && '~ '}{Math.round((consumption+Number.EPSILON)*100)/100} l / 100km</p>\n      <p id='tripConsumption'>Matkan kulutus: ~ {Math.round(((state.distance/100 * consumption)+Number.EPSILON)*100)/100} l</p>\n    </React.Fragment>;\n  } else {\n    return <p>{language.checkLang() === 'en'\n      ? 'Set speed and distance for fuel consumption calculations.'\n      : 'Aseta nopeus ja matkan pituus polttoaineen kulutuksen laskemiseksi.'}</p>;\n  }\n};\n\nconst Car = (props) => {\n  const {\n    carId,\n    consumption,\n    name\n  } = props;\n\n  return <article id={carId}>\n    <p>Auto: {name}</p>\n    <p>Kulutus: {consumption} l / 100km</p>\n    <SpeedSelector/>\n    <TimeEstimate/>\n    <ConsumptionEstimate baseConsumption={consumption}/>\n  </article>;\n};\n\nexport default Car;","import React, {} from 'react';\n\nimport {useCalculator, actions} from '../controllers/calculator';\nimport Car from './car';\n\nconst DistanceSelector = () => {\n  const {dispatch, state} = useCalculator();\n  const handleDistance = (event) => {\n    event.preventDefault();\n    dispatch({type: actions[1], distance: event.target.value});\n  };\n  return <form>\n    <label for='distanceSelector'>Matkan pituus</label>\n    <input id='distanceSelector' type='number' min={0} max={666666} value={state.distance} onChange={event => handleDistance(event)}/>\n  </form>;\n};\n\nconst Calculator = () => {\n  return <React.Fragment>\n    <DistanceSelector/>\n    <Car carId={`calculator.car.default1`} consumption={3} name={`default1`} />\n  </React.Fragment>;\n};\n\nexport default Calculator;","import React, {useState, useEffect} from 'react';\nimport {\n  HashRouter as Router,\n  Route,\n  Switch\n} from 'react-router-dom';\n\nimport Header from './components/header';\nimport language from './tools/language';\nimport {CalculatorProvider} from './controllers/calculator';\nimport packageinfo from '../package.json';\nimport './styles/components.css';\nimport './styles/global.css';\nimport Navigation from './components/navigation';\nimport Calculator from './components/calculator';\n\nconst App = (props) => {\n  const [lang, setLang] = useState();\n  useEffect(() => {\n    const selection = language.checkLang();\n    if (language.languages().includes(selection)) {\n      setLang(selection);\n    } else {\n      setLang('fi');\n    }\n  },[]);\n\n  return <Router id={`${props.id}`}>\n    <CalculatorProvider>\n      <Header language={lang} authorName={packageinfo.author.name} authorUrl={packageinfo.author.url} />\n      <Navigation language={lang}/>\n      <Switch>\n        <Route exact path='/' children={<React.Fragment><Calculator/></React.Fragment>} />\n        <Route path='/task' children={<React.Fragment><h1>task</h1></React.Fragment>} />\n      </Switch>\n    </CalculatorProvider>\n  </Router>;\n};\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './app';\n\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}